{"version":3,"sources":["webpack://data-table/webpack/universalModuleDefinition","webpack://data-table/webpack/bootstrap","webpack://data-table/external \"@clubajax/dom\"","webpack://data-table/./src/util.js","webpack://data-table/external \"@clubajax/on\"","webpack://data-table/./build-profiles/all.js","webpack://data-table/./src/data-table.js","webpack://data-table/external \"@clubajax/base-component\"","webpack://data-table/./src/sortable.js","webpack://data-table/./src/clickable.js","webpack://data-table/./src/selectable.js","webpack://data-table/./src/scrollable.js","webpack://data-table/./src/component.js","webpack://data-table/external \"@clubajax/form\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__5__","__WEBPACK_EXTERNAL_MODULE__11__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","bindMethods","context","keys","forEach","init","isEqual","a","b","JSON","stringify","BaseComponent","dom","sortable","clickable","selectable","scrollable","createComponent","util","noop","constructor","super","editable","legacyCheck","onRows","rows","schema","loadData","items","orgItems","length","displayNoData","mixPlugins","clearTimeout","noDataTimer","onDomReady","render","disable","legacyTimer","setTimeout","Error","domReady","perf","fire","renderTemplate","renderFooter","columns","renderHeader","renderBody","table","thead","tbody","tabindex","clean","tr","colSizes","col","label","undefined","css","className","options","html","class","width","style","headHasRendered","exclude","bodyHasRendered","id","console","warn","callback","item","index","itemCss","rowOptions","component","cellOptions","footer","tfoot","getItemById","find","show","classList","add","remove","props","bools","Sortable","current","on","onHeaderRender","setSort","onSort","sort","dir","split","map","w","trim","desc","lt","gt","displaySort","clickHandle","onHeaderClick","currentSortField","currentSortClass","query","event","e","field","detail","target","cell","indexOf","log","hasSortable","Clickable","grid","handleClicks","handleBodyClick","emitEvent","row","rowId","closest","getAttribute","attr","handleHeaderClick","handle","makeMultiHandle","hasClickable","Selectable","onRowClick","displaySelection","onSelected","currentSelection","selectRow","currentId","currentRow","emit","hasSelectable","Scrollable","onRender","onPreRender","tableHeadWrapper","tableHeader","tableBodyWrapper","tableBody","scrollPos","scrollLeft","sizeColumns","sp","window","requestAnimationFrame","handleScroll","head","body","amt","Math","ceil","left","hasShift","connectScroll","scrollHandle","parentNode","minWidth","thw","tdw","tds","tempNode","position","height","zIndex","document","gridParent","ths","querySelectorAll","colPercent","firstTR","querySelector","stretchy","self","sCol","cols","findIndex","getStretchyColumn","appendChild","box","maxWidth","test","max","headeHeight","top","destroy","hasScrollable","type","href","url","createLink","edit","node","parent","removeChild","input","textContent","focus","stopPropagation","onClick","onKeyup","createInput","data","createDropdown","createCheckbox"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@clubajax/dom\"), require(\"@clubajax/on\"), require(\"@clubajax/base-component\"), require(\"@clubajax/form\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@clubajax/dom\", \"@clubajax/on\", \"@clubajax/base-component\", \"@clubajax/form\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"data-table\"] = factory(require(\"@clubajax/dom\"), require(\"@clubajax/on\"), require(\"@clubajax/base-component\"), require(\"@clubajax/form\"));\n\telse\n\t\troot[\"data-table\"] = factory(root[\"@clubajax/dom\"], root[\"@clubajax/on\"], root[\"@clubajax/base-component\"], root[\"@clubajax/form\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__5__, __WEBPACK_EXTERNAL_MODULE__11__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function bindMethods (object, context) {\n\tObject.keys(object).forEach((key) => {\n\t\tif (typeof object[key] === 'function') {\n\t\t\t// console.log('bind', key);\n\t\t\t// object[key] = object[key].bind(context);\n\t\t\tcontext[key] = object[key];\n\t\t}\n\t});\n\n\tif (object.init){\n\t\tobject.init.call(context);\n\t}\n}\n\nfunction isEqual (a, b) {\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (!a && b || a && !b) {\n\t\treturn false;\n\t}\n\treturn JSON.stringify(a) === JSON.stringify(b);\n}\n\nmodule.exports = {\n\tbindMethods,\n\tisEqual\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import '../src/data-table';\nimport '../src/data-table.scss';\n","const BaseComponent = require('@clubajax/base-component');\nconst dom = require('@clubajax/dom');\nconst sortable = require('./sortable');\nconst clickable = require('./clickable');\nconst selectable = require('./selectable');\nconst scrollable = require('./scrollable');\nconst createComponent = require('./component');\nconst util = require('./util');\n\nconst PERF = true;\nlet log;\n\n// TODO\n// widget / function for content (checkbox)\n// automatic virtual scroll after 100+ rows\n// optional column widths\n// filter / search\n// github.io demos\n\n\nclass DataTable extends BaseComponent {\n\n\tconstructor () {\n        super();\n        this.editable = false;\n        this.clickable = false;\n        this.sortable = false;\n        this.selectable = false;\n        this.scrollable = false;\n        this.legacyCheck();\n        // this.data = 0;\n        // this.schema = false;\n        // this.rows = false;\n        // this.exclude = [];\n    }\n    \n    onRows(rows) {\n        if (!this.schema) {\n            return;\n        }\n        this.loadData(rows);\n    }\n\n    // onSchema(schema) {\n    //     if (!this.rows) {\n    //         return;\n    //     }\n    //     console.log('schema...', this.rows);\n    //     this.loadData(this.rows);\n    // }\n\n    loadData(rows) {\n        const items = rows || [];\n        this.orgItems = items;\n        this.legacyCheck(true);\n\t\tif (!items.length) {\n\t\t\tthis.displayNoData(true);\n\t\t\treturn;\n\t\t}\n\t\tthis.displayNoData(false);\n\t\tthis.items = [...items];\n\t\tthis.mixPlugins();\n\t\tclearTimeout(this.noDataTimer);\n\t\tthis.onDomReady(() => {\n\t\t\tthis.render();\n\t\t});\n\t}\n\n    legacyCheck(disable) {\n        if (!disable) {\n            this.legacyTimer = setTimeout(() => {\n                throw new Error('a `rows` and a `schema` is required');\n            }, 1000);\n            return;\n        }\n        clearTimeout(this.legacyTimer);\n    }\n\n\tdomReady () {\n        this.perf = this.perf || PERF;\n        if (!this.items) {\n            this.noDataTimer = setTimeout(() => {\n                this.displayNoData(true);\n            }, 1000);\n        }\n\t}\n\n\trender () {\n\t\tthis.fire('pre-render');\n        this.renderTemplate();\n        this.renderFooter();\n\t\tconst columns = this.schema.columns;\n\t\tif (!util.isEqual(columns, this.columns)) {\n\t\t\tthis.columns = columns;\n\t\t\tthis.renderHeader(this.columns);\n        }\n\t\tthis.renderBody(this.items, this.columns);\n\n\t\tthis.fire('render', { table: this.table || this, thead: this.thead, tbody: this.tbody });\n\t}\n\n\t// is overwritten by scrollable\n\trenderTemplate () {\n\t\tif (this.table) {\n\t\t\treturn;\n\t\t}\n\t\tthis.table = dom('table', { tabindex: '1' }, this);\n\t\tthis.thead = dom('thead', {}, this.table);\n\t\tthis.tbody = dom('tbody', {}, this.table);\n\t}\n\n\trenderHeader (columns) {\n\t\tdom.clean(this.thead, true);\n\t\tconst tr = dom('tr', {}, this.thead);\n\t\tconst colSizes = [];\n\t\tcolumns.forEach((col, i) => {\n\t\t\tconst key = col.key || col;\n\t\t\tconst label = col.label === undefined ? col : col.label;\n\t\t\tconst css = col.css || col.className || '';\n\t\t\tconst options = {\n                html: [\n                    dom('span', {html: label, css: 'ui-label'}),\n                    dom('span', {class: 'sort-up', html: '&uarr;'}),\n                    dom('span', {class: 'sort-dn', html: '&darr;'}),\n                ],\n\t\t\t\tcss: css,\n\t\t\t\t'data-field': key\n\t\t\t};\n\t\t\tif (col.width){\n\t\t\t\tcolSizes[i] = col.width;\n\t\t\t\toptions.style = { width: col.width };\n\t\t\t}\n\t\t\tdom('th', options, tr);\n\t\t});\n\t\tthis.colSizes = colSizes;\n\t\tthis.headHasRendered = true;\n\t\tthis.fire('render-header', { thead: this.thead });\n\t}\n\n\trenderBody (items, columns) {\n\t\tconst exclude = this.exclude;\n\t\tconst tbody = this.tbody;\n\t\tdom.clean(tbody, true);\n\n\t\tif(!items || !items.length){\n\t\t\tthis.bodyHasRendered = true;\n\t\t\tthis.fire('render-body', { tbody: this.tbody });\n\t\t\tthis.displayNoData(true);\n\t\t\treturn;\n\t\t}\n\n\t\tconst editable = this.editable;\n\t\tconst selectable = this.selectable;\n\n\t\tif (items[0].id === undefined){\n\t\t\tconsole.warn('Items do not have an ID');\n\t\t}\n\n\t\t// TODO: if sort, just reorder - do perf test\n\t\t//console.time('render body');\n\t\trender(items, columns, this.colSizes, tbody, selectable, () => {\n\t\t\t// PERF: makes no difference:\n\t\t\t//this.table.appendChild(this.tbody);\n\t\t\t//console.timeEnd('render body');\n\t\t\tthis.bodyHasRendered = true;\n\t\t\tthis.fire('render-body', { tbody: this.tbody });\n\t\t});\n\n    }\n    \n    renderFooter() {\n        if (this.footer) {\n            this.tfoot = dom('tfoot', {html: this.footer}, this.table); \n        }\n    }\n\n\tgetItemById (id) {\n\t\treturn this.items.find(item => ''+item.id === ''+id);\n\t}\n\n\tdisplayNoData (show) {\n\t\tif (show) {\n\t\t\tthis.classList.add('no-data');\n\t\t} else {\n\t\t\tthis.classList.remove('no-data');\n\t\t}\n\t}\n\n\tmixPlugins () {\n        if (this.clickable) {\n\t\t\tclickable.call(this);\n\t\t}\n        if (this.sortable) {\n\t\t\tclickable.call(this);\n\t\t\tsortable.call(this);\n\t\t}\n\t\tif (this.selectable) {\n\t\t\tclickable.call(this);\n\t\t\tselectable.call(this);\n\t\t}\n\t\tif (this.scrollable) {\n\t\t\tscrollable.call(this);\n\t\t}\n\t\tthis.mixPlugins = noop;\n\t}\n}\n\nfunction render (items, columns, colSizes, tbody, selectable, callback) {\n\titems.forEach((item, index) => {\n\t\titem.index = index;\n\t\tconst itemCss = item.css || item.class || item.className;\n\t\tlet\n\t\t\thtml, css, key,\n\t\t\trowOptions = { 'data-row-id': item.id },\n\t\t\ttr;\n\n\t\tif (selectable) {\n\t\t\trowOptions.tabindex = 1;\n\t\t}\n\t\tif (itemCss) {\n\t\t\trowOptions.class = itemCss;\n\t\t}\n\n        tr = dom('tr', rowOptions, tbody);\n\t\tcolumns.forEach((col, i) => {\n            key = col.key || col;\n            if (col.component) {\n                html = createComponent(col, item);\n            } else {\n                html = key === 'index' ? index + 1 : item[key];\n                if (col.callback) {\n                    html = col.callback(item, index);\n                }\n            }\n\t\t\tcss = key;\n\t\t\tconst cellOptions = { html, 'data-field': key, css };\n\t\t\tif (colSizes[i]) {\n\t\t\t\tcellOptions.style = { width: colSizes[i] };\n\t\t\t}\n\t\t\t// if (editable) {\n\t\t\t// \tcellOptions.tabindex = 1;\n\t\t\t// }\n\t\t\tdom('td', cellOptions, tr);\n\t\t});\n\t});\n\tcallback();\n}\n\n// experimental\nfunction lazyRender (allItems, columns, tbody, sorts, callback) {\n\tlet index = 0;\n\tfunction renderRows (items) {\n\t\titems.forEach((item) => {\n\t\t\titem.index = index;\n\t\t\tconst itemCss = item.css || item.class || item.className;\n\t\t\tlet\n\t\t\t\thtml, css, key,\n\t\t\t\trowOptions = { 'data-row-id': item.id },\n\t\t\t\ttr;\n\t\t\tif (selectable) {\n\t\t\t\trowOptions.tabindex = 1;\n\t\t\t}\n\t\t\tif (itemCss) {\n\t\t\t\trowOptions.class = itemCss;\n\t\t\t}\n\n\t\t\ttr = dom('tr', rowOptions, tbody);\n\t\t\tcolumns.forEach((col) => {\n\t\t\t\tkey = col.key || col;\n\t\t\t\thtml = item[key];\n\t\t\t\tcss = key;\n\t\t\t\tconst cellOptions = { html, 'data-field': key, css };\n\t\t\t\t// if (editable) {\n\t\t\t\t// \tcellOptions.tabindex = 1;\n\t\t\t\t// }\n\t\t\t\tdom('td', cellOptions, tr);\n\t\t\t});\n\t\t\tindex++;\n\t\t});\n\t}\n\n\tallItems = [...allItems];\n\n\tfunction next () {\n\t\tconst items = allItems.splice(0, 5);\n\t\trenderRows(items);\n\n\t\tif(allItems.length){\n\t\t\tsetTimeout(() => {\n\t\t\t\tnext();\n\t\t\t},1);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\tnext();\n}\n\nfunction noop () {\n\n}\n\nmodule.exports = BaseComponent.define('data-table', DataTable, {\n\tprops: ['schema', 'rows', 'sort', 'selected', 'stretch-column', 'max-height', 'borders', 'footer'],\n\tbools: ['sortable', 'selectable', 'scrollable', 'clickable', 'perf']\n});\n","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","const util = require('./util');\nconst dom = require('@clubajax/dom');\n\nconst Sortable = {\n    init() {\n        this.classList.add('sortable');\n        this.current = {};\n        this.on('render-header', this.onHeaderRender.bind(this));\n        this.setSort();\n    },\n\n    onSort() {\n        let [sort, dir] = this.sort.split(',').map((w) => w.trim());\n        dir = !!sort ? dir || 'desc' : dir;\n        this.setSort(sort, dir);\n    },\n\n    setSort(sort, dir) {\n        if (!sort) {\n            sort = this.schema.sort;\n            dir = this.schema.desc ? 'desc' : 'asc';\n            this.current.dir = sort;\n        }\n\n        this.current = {\n            sort,\n            dir,\n        };\n\n        const lt = dir === 'asc' ? -1 : 1;\n        const gt = dir === 'desc' ? -1 : 1;\n\n        this.items.sort((a, b) => {\n            if (a[sort] < b[sort]) {\n                return lt;\n            } else if (a[sort] > b[sort]) {\n                return gt;\n            }\n            return 0;\n        });\n\n        if (this.bodyHasRendered) {\n            this.renderBody(this.items, this.columns);\n        }\n        if (this.headHasRendered) {\n            this.displaySort();\n        }\n    },\n\n    onHeaderRender: function() {\n        if (this.clickHandle) {\n            this.clickHandle.remove();\n        }\n        this.clickHandle = this.on('header-click', this.onHeaderClick.bind(this));\n        this.displaySort();\n    },\n\n    displaySort() {\n        if (this.currentSortField) {\n            this.currentSortField.classList.remove(this.currentSortClass);\n        }\n        if (this.current.dir) {\n            this.currentSortField = dom.query(this.thead, `[data-field=\"${this.current.sort}\"]`);\n            this.currentSortClass = this.current.dir === 'asc' ? 'asc' : 'desc';\n            this.currentSortField.classList.add(this.currentSortClass);\n        }\n\n        const event = this.current.sort ? `${this.current.sort},${this.current.dir}` : null;\n        this.fire('sort', { value: event });\n    },\n\n    onHeaderClick(e) {\n        let dir,\n            field = e.detail.field,\n            target = e.detail.cell;\n\n        if (!target || target.className.indexOf('no-sort') > -1) {\n            console.log('NOTARGET');\n            return;\n        }\n        if (field === this.current.sort) {\n            dir = this.current.dir === 'asc' ? 'desc' : 'asc';\n        } else {\n            dir = 'desc';\n        }\n        this.setSort(field, dir);\n    },\n};\n\nmodule.exports = function() {\n    if (!this.hasSortable) {\n        util.bindMethods(Sortable, this);\n        this.hasSortable = true;\n    }\n};\n","const util = require('./util');\nconst dom = require('@clubajax/dom');\nconst on = require('@clubajax/on');\n\nconst Clickable = {\n\n\tinit (grid) {\n\t\tthis.on('render', this.handleClicks.bind(this));\n\t},\n\n\thandleBodyClick (e) {\n\t\tlet\n\t\t\tindex,\n\t\t\titem,\n\t\t\temitEvent,\n\t\t\tfield,\n\t\t\trow,\n\t\t\trowId,\n\t\t\tcell = e.target.closest('td');\n\n\t\tif (cell) {\n\t\t\tfield = cell.getAttribute('data-field');\n\t\t}\n\t\trow = e.target.closest('tr');\n\n\t\tif (!row) {\n\t\t\treturn;\n\t\t}\n\n\t\tindex = +row.getAttribute('data-index');\n\t\trowId = dom.attr(row, 'data-row-id');\n\n\t\tif (!rowId) {\n\t\t\treturn;\n\t\t}\n\n\t\titem = this.getItemById(rowId);\n\n\t\temitEvent = {\n\t\t\tindex: index,\n\t\t\tcell: cell,\n\t\t\trow: row,\n\t\t\titem: item,\n\t\t\tfield: field,\n\t\t\tvalue: item[field],\n\t\t\ttarget: e.target\n\t\t};\n\n\t\tthis.fire('row-click', emitEvent);\n\t},\n\n\thandleHeaderClick (event) {\n\t\tlet\n\t\t\tcell = event.target.closest('th'),\n\t\t\tfield = cell && cell.getAttribute('data-field'),\n\t\t\temitEvent = {\n\t\t\t\tfield: field,\n\t\t\t\tcell: cell,\n\t\t\t\ttarget: event.target\n\t\t\t};\n\t\tif (cell) {\n\t\t\tthis.fire('header-click', emitEvent);\n\t\t}\n\t},\n\n\thandleClicks (event) {\n\t\tif (this.handle) {\n\t\t\tthis.handle.remove();\n\t\t}\n\n\t\tthis.handle = on.makeMultiHandle([\n\t\t\tthis.on(event.detail.tbody, 'keyup', (e) => {\n\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\tthis.handleBodyClick(e);\n\t\t\t\t}\n\t\t\t}),\n\t\t\tthis.on(event.detail.tbody, 'click', this.handleBodyClick.bind(this)),\n\t\t\tthis.on(event.detail.thead, 'click', this.handleHeaderClick.bind(this))\n\t\t]);\n\t}\n};\n\nmodule.exports = function () {\n\tif (!this.hasClickable) {\n\t\tutil.bindMethods(Clickable, this);\n\t\tthis.hasClickable = true;\n\t}\n};","const dom = require('@clubajax/dom');\nconst util = require('./util');\nconst SEL_CLASS = 'selected';\n\nconst Selectable = {\n\tinit () {\n\t\tthis.classList.add('selectable');\n\t\tthis.on('row-click', this.onRowClick.bind(this));\n\t\tthis.on('render-body', this.displaySelection.bind(this));\n\t},\n\n\tonSelected (value) {\n\t\tif (value !== this.currentSelection) {\n\t\t\tthis.selectRow(value);\n\t\t}\n\t},\n\n\tonRowClick (e) {\n\t\tthis.selectRow(e.detail.item.id);\n\t},\n\n\tselectRow (id) {\n\t\tlet currentId;\n\t\tif (this.currentRow) {\n\t\t\tthis.currentRow.classList.remove(SEL_CLASS);\n\t\t\tcurrentId = dom.attr(this.currentRow, 'data-row-id');\n\t\t}\n\n\t\tthis.currentSelection = id === this.currentSelection ? null : id;\n\n\t\tlet item = this.getItemById(this.currentSelection);\n\n\t\tconst itemCss = item ? item.css || item.class || item.className : null;\n\t\tif (itemCss === 'unselectable'){\n\t\t\tthis.currentSelection = null;\n\t\t\titem = null;\n\t\t\tid = null;\n\t\t}\n\n\t\tthis.displaySelection();\n\n\t\tif (this.currentSelection) {\n\t\t\tconst event = {\n\t\t\t\trow: this.currentRow,\n\t\t\t\titem: item,\n\t\t\t\tvalue: id\n\t\t\t};\n\t\t\tthis.emit('change', event);\n\t\t} else {\n\t\t\tthis.emit('change');\n\t\t}\n\t},\n\n\tdisplaySelection () {\n\t\tif (this.currentSelection) {\n\t\t\tconst row = dom.query(this, `[data-row-id=\"${this.currentSelection}\"]`);\n\t\t\tif (row) {\n\t\t\t\trow.classList.add(SEL_CLASS);\n\t\t\t\tthis.currentRow = row;\n\t\t\t}\n\t\t}\n\t}\n};\n\n\nmodule.exports = function () {\n\tif (!this.hasSelectable) {\n\t\tutil.bindMethods(Selectable, this);\n\t\tthis.hasSelectable = true;\n\t}\n};","const dom = require('@clubajax/dom');\nconst util = require('./util');\n\nconst Scrollable = {\n\tinit () {\n\t\tthis.classList.add('scrollable');\n\t\tthis.on('render-body', this.onRender.bind(this));\n\t\tthis.on('resize', this.onRender.bind(this));\n\t\tthis.on('pre-render', this.onPreRender.bind(this));\n\t},\n\n\trenderTemplate () {\n\t\tif(this.tableHeadWrapper){ return; }\n\t\tthis.tableHeadWrapper = dom('div', {className: 'table-header-wrapper'}, this);\n\t\tthis.tableHeader = dom('table', {className: 'table-header', tabindex:'1'}, this.tableHeadWrapper);\n\t\tthis.thead = dom('thead', {}, this.tableHeader);\n\t\tthis.tableBodyWrapper = dom('div',\n\t\t\t{\n\t\t\t\tclassName: 'table-body-wrapper',\n\t\t\t\tstyle: {\n\t\t\t\t\t'max-height': this['max-height'],\n\t\t\t\t\t'position': this['max-height'] ? 'static' : 'absolute'\n\t\t\t\t}\n\t\t\t}, this);\n\t\tthis.tableBody = dom('table', {className: 'table-body', tabindex:'1'}, this.tableBodyWrapper);\n\t\tthis.tbody = dom('tbody', {}, this.tableBody);\n\t},\n\n\tonPreRender () {\n\t\tif(this.table){\n\t\t\tthis.scrollPos = this.table.scrollLeft;\n\t\t}\n\t},\n\n\tonRender (event) {\n\t\tthis.sizeColumns();\n\n\t\tif(this.scrollPos){\n\t\t\tconst sp = this.scrollPos;\n\t\t\twindow.requestAnimationFrame(() => {\n\t\t\t\tthis.scrollLeft = sp;\n\t\t\t});\n\t\t\tthis.scrollPos = 0;\n\t\t}\n\t},\n\n\thandleScroll (event) {\n\t\tconst\n\t\t\thead = this.tableHeadWrapper,\n\t\t\tbody = this.tableBodyWrapper;\n\t\tlet amt;\n\n\t\thead.scrollLeft = body.scrollLeft;\n\t\tif(head.scrollLeft !== body.scrollLeft) {\n\t\t\tamt = Math.ceil(head.scrollLeft - body.scrollLeft);\n\t\t\thead.style.left = amt + 1 + 'px';\n\t\t\tthis.hasShift = true;\n\t\t}\n\t\telse if(this.hasShift){\n\t\t\thead.style.left = '';\n\t\t\tthis.hasShift = false;\n\t\t}\n\t},\n\n\tconnectScroll (detail) {\n\t\twindow.requestAnimationFrame(function() {\n\t\t\tif (this.scrollHandle) {\n\t\t\t\tthis.scrollHandle.remove();\n\t\t\t}\n\t\t\tthis.scrollHandle = this.on(this.tableBodyWrapper, 'scroll', this.handleScroll.bind(this));\n\t\t}.bind(this));\n\t},\n\n\tsizeColumns () {\n\t\tconst head = this.thead.parentNode;\n\t\tconst body = this.tbody.parentNode;\n\t\tconst colSizes = this.colSizes;\n\t\tlet\n\t\t\tgrid = this,\n\t\t\ttempNode = dom('div', {style:{position:'absolute', width: '100px', height: '100px', zIndex:-1}}, document.body),\n\t\t\tgridParent = grid.parentNode,\n\t\t\ti, minWidth, thw, tdw,\n\t\t\tths = head.querySelectorAll('th'),\n\t\t\tcolPercent = (100 / ths.length) + '%',\n\t\t\tfirstTR = body.querySelector('tr'),\n\t\t\ttds,\n\t\t\tstretchy = getStretchyColumn(this);\n\n\t\tif(!firstTR){\n\t\t\treturn;\n\t\t}\n\n\t\t// remove grid from its current location\n\t\t// mainly because if it is in a dialog, the animation\n\t\t// CSS will mess up dimensions\n\t\ttempNode.appendChild(grid);\n\n\t\ttds = firstTR.querySelectorAll('td');\n\n\t\t// reset\n\t\t//\n\t\t// set containers to absolute and an arbitrary, small width\n\t\t// to force cells to squeeze together so we can measure their\n\t\t// natural widths\n\n\t\tdom.style(head, {\n\t\t\tposition:'absolute',\n\t\t\twidth:100\n\t\t});\n\t\tdom.style(body, {\n\t\t\tposition:'absolute',\n\t\t\twidth:100\n\t\t});\n\n\t\t// reset head THs\n\t\tfor(i = 0; i < ths.length; i++){\n\t\t\tdom.style(ths[i], {width:'', minWidth:''});\n\t\t\t// TDs shouldn't have a width yet,\n\t\t\t// unless this is a resize\n\t\t\tdom.style(tds[i], {width:'', minWidth:''});\n\t\t}\n\n\t\t// wait for DOM to render before getting sizes\n\t\twindow.requestAnimationFrame(() => {\n\t\t\t// after the next\n\t\t\tfor(i = 0; i < ths.length; i++){\n\t\t\t\tthw = dom.box(ths[i]).width;\n\t\t\t\ttdw = dom.box(tds[i]).width;\n\t\t\t\tif (colSizes[i]) {\n\n\t\t\t\t\tdom.style(ths[i], { minWidth: colSizes[i], maxWidth: colSizes[i] });\n\t\t\t\t\tdom.style(tds[i], { minWidth: colSizes[i], maxWidth: colSizes[i] });\n\n\t\t\t\t} else if(!/fixed\\-width/.test(tds[i].className)) {\n\t\t\t\t\tminWidth = Math.max(thw, tdw);\n\t\t\t\t\tdom.style(ths[i], {minWidth: minWidth});\n\t\t\t\t\tdom.style(tds[i], {minWidth: minWidth});\n\t\t\t\t}\n\n\t\t\t\tif (stretchy === 'all') {\n\t\t\t\t\tdom.style(tds[i], {width: colPercent});\n\t\t\t\t\tdom.style(ths[i], {width: colPercent});\n\t\t\t\t} else if (stretchy === i) {\n\t\t\t\t\tdom.style(tds[i], {width: '100%'});\n\t\t\t\t\tdom.style(ths[i], {width: '100%'});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst headeHeight = dom.box(this.tableHeader).height;\n\t\t\tgrid.tableBodyWrapper.style.top = (headeHeight - 1) + 'px';\n\n\t\t\t// remove temp body styles\n\t\t\tdom.style(head, {\n\t\t\t\tposition:'',\n\t\t\t\twidth:''\n\t\t\t});\n\t\t\tdom.style(body, {\n\t\t\t\tposition:'',\n\t\t\t\twidth:''\n\t\t\t});\n\n\t\t\tgridParent.appendChild(grid);\n\t\t\tdom.destroy(tempNode);\n\n\t\t\tthis.connectScroll();\n\t\t});\n\n\t}\n};\n\nfunction getStretchyColumn (self) {\n\tconst sCol = self['stretch-column'];\n\tconst cols = self.columns;\n\tif (sCol === 'all') {\n\t\treturn 'all';\n\t}\n\tif (sCol === 'none') {\n\t\treturn -1;\n\t}\n\tif (!sCol || sCol === 'last') {\n\t\treturn cols.length - 1;\n\t}\n\treturn cols.findIndex(col => col.key === sCol);\n}\n\nmodule.exports = function () {\n\tif (!this.hasScrollable) {\n\t\tutil.bindMethods(Scrollable, this);\n\t\tthis.hasScrollable = true;\n\t}\n};","require('@clubajax/form');\nconst dom = require('@clubajax/dom');\nconst on = require('@clubajax/on');\n\nfunction createLink(col, item) {\n    return dom('a', {\n        href: item[col.component.url],\n        html: item[col.key]\n    });\n}\n\nfunction createInput(col, item) {\n    function edit(node) {\n        const parent = node.parentNode;\n        parent.removeChild(node);\n\n        const input = dom('ui-input', {\n            value: node.textContent\n        }, parent);\n        input.onDomReady(() => {\n            input.input.focus();\n        });\n        \n        input.on('change', (e) => {\n            e.stopPropagation();\n            console.log('change!', e.value);\n            console.log('item', item);\n            node.textContent = e.value;\n            parent.appendChild(node);\n            input.destroy();\n            item[col.key] = e.value;\n            on.emit(node, 'change', {value: item});\n        });\n    }\n    return dom('div', {\n        class: 'td-editable',\n        html: item[col.key],\n        tabindex: '0',\n        onClick() {\n            edit(this);\n        },\n        onKeyup(e) {\n            if (e.key === 'Enter') {\n                edit(this);\n            }\n        }\n    });\n}\n\nfunction createDropdown(col, item) {\n    const input = dom('ui-dropdown', {\n        data: col.component.options,\n        value: item[col.key]\n    });\n    input.on('change', (e) => {\n        e.stopPropagation();\n        if (!e || e.value == undefined) {\n            return;\n        }\n        item[col.key] = e.value;\n        on.emit(input.parentNode, 'change', {value: item});\n    });\n    return input;\n}\n\nfunction createCheckbox(col, item) {\n    const input = dom('ui-checkbox', {\n        value: item[col.key]\n    });\n    input.on('change', (e) => {\n        e.stopPropagation();\n        if (!e || e.value == undefined) {\n            return;\n        }\n        item[col.key] = e.value;\n        on.emit(input.parentNode, 'change', {value: item});\n    });\n    return input;\n}\n\nfunction createComponent(col, item) {\n    switch (col.component.type) {\n        case 'link':\n            return createLink(col, item);\n        case 'ui-input':\n            return createInput(col, item);\n        case 'ui-dropdown':\n            return createDropdown(col, item);\n        case 'ui-checkbox':\n            return createCheckbox(col, item);\n        default:\n            return item[col.key];\n    }\n}\n\nmodule.exports = createComponent;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;"],"sourceRoot":""}