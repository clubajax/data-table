{"version":3,"sources":["webpack://data-table/webpack/universalModuleDefinition","webpack://data-table/webpack/bootstrap","webpack://data-table/external \"@clubajax/dom\"","webpack://data-table/./src/util.js","webpack://data-table/external \"@clubajax/on\"","webpack://data-table/./build-profiles/all.js","webpack://data-table/./src/data-table.js","webpack://data-table/external \"@clubajax/base-component\"","webpack://data-table/./src/sortable.js","webpack://data-table/./src/clickable.js","webpack://data-table/./src/selectable.js","webpack://data-table/./src/scrollable.js","webpack://data-table/./src/component.js","webpack://data-table/external \"@clubajax/form\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__5__","__WEBPACK_EXTERNAL_MODULE__11__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","bindMethods","context","keys","forEach","init","isEqual","a","b","JSON","stringify","BaseComponent","dom","sortable","clickable","selectable","scrollable","createComponent","util","noop","constructor","super","editable","legacyCheck","onRows","rows","schema","loadData","items","orgItems","length","displayNoData","mixPlugins","clearTimeout","noDataTimer","onDomReady","render","disable","legacyTimer","setTimeout","Error","domReady","perf","fire","renderTemplate","columns","renderHeader","renderBody","table","thead","tbody","tabindex","clean","tr","colSizes","col","options","html","undefined","label","css","className","width","style","headHasRendered","exclude","bodyHasRendered","id","console","warn","callback","item","index","itemCss","class","rowOptions","component","cellOptions","getItemById","find","show","classList","add","remove","props","bools","Sortable","current","on","onHeaderRender","setSort","onSort","sort","dir","split","map","w","trim","desc","lt","gt","displaySort","clickHandle","onHeaderClick","currentSortField","currentSortClass","query","event","e","field","detail","target","cell","indexOf","log","hasSortable","Clickable","grid","handleClicks","handleBodyClick","emitEvent","row","rowId","closest","getAttribute","attr","handleHeaderClick","handle","makeMultiHandle","hasClickable","Selectable","onRowClick","displaySelection","onSelected","currentSelection","selectRow","currentId","currentRow","emit","hasSelectable","Scrollable","onRender","onPreRender","tableHeadWrapper","tableHeader","tableBodyWrapper","tableBody","scrollPos","scrollLeft","sizeColumns","sp","window","requestAnimationFrame","handleScroll","head","body","amt","Math","ceil","left","hasShift","connectScroll","scrollHandle","parentNode","minWidth","thw","tdw","tds","tempNode","position","height","zIndex","document","gridParent","ths","querySelectorAll","colPercent","firstTR","querySelector","stretchy","self","sCol","cols","findIndex","getStretchyColumn","appendChild","box","maxWidth","test","max","headeHeight","top","destroy","hasScrollable","type","href","url","createLink","edit","node","parent","removeChild","input","textContent","focus","stopPropagation","onClick","onKeyup","createInput","data","createDropdown","createCheckbox"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@clubajax/dom\"), require(\"@clubajax/on\"), require(\"@clubajax/base-component\"), require(\"@clubajax/form\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@clubajax/dom\", \"@clubajax/on\", \"@clubajax/base-component\", \"@clubajax/form\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"data-table\"] = factory(require(\"@clubajax/dom\"), require(\"@clubajax/on\"), require(\"@clubajax/base-component\"), require(\"@clubajax/form\"));\n\telse\n\t\troot[\"data-table\"] = factory(root[\"@clubajax/dom\"], root[\"@clubajax/on\"], root[\"@clubajax/base-component\"], root[\"@clubajax/form\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__5__, __WEBPACK_EXTERNAL_MODULE__11__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function bindMethods (object, context) {\n\tObject.keys(object).forEach((key) => {\n\t\tif (typeof object[key] === 'function') {\n\t\t\t// console.log('bind', key);\n\t\t\t// object[key] = object[key].bind(context);\n\t\t\tcontext[key] = object[key];\n\t\t}\n\t});\n\n\tif (object.init){\n\t\tobject.init.call(context);\n\t}\n}\n\nfunction isEqual (a, b) {\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (!a && b || a && !b) {\n\t\treturn false;\n\t}\n\treturn JSON.stringify(a) === JSON.stringify(b);\n}\n\nmodule.exports = {\n\tbindMethods,\n\tisEqual\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import '../src/data-table';\nimport '../src/data-table.scss';\n","const BaseComponent = require('@clubajax/base-component');\nconst dom = require('@clubajax/dom');\nconst sortable = require('./sortable');\nconst clickable = require('./clickable');\nconst selectable = require('./selectable');\nconst scrollable = require('./scrollable');\nconst createComponent = require('./component');\nconst util = require('./util');\n\nconst PERF = true;\nlet log;\n\n// TODO\n// widget / function for content (checkbox)\n// automatic virtual scroll after 100+ rows\n// optional column widths\n// filter / search\n// github.io demos\n\n\nclass DataTable extends BaseComponent {\n\n\tconstructor () {\n        super();\n        this.editable = false;\n        this.clickable = false;\n        this.sortable = false;\n        this.selectable = false;\n        this.scrollable = false;\n        this.legacyCheck();\n        // this.data = 0;\n        // this.schema = false;\n        // this.rows = false;\n        // this.exclude = [];\n    }\n    \n    onRows(rows) {\n        if (!this.schema) {\n            return;\n        }\n        this.loadData(rows);\n    }\n\n    // onSchema(schema) {\n    //     if (!this.rows) {\n    //         return;\n    //     }\n    //     console.log('schema...', this.rows);\n    //     this.loadData(this.rows);\n    // }\n\n    loadData(rows) {\n        const items = rows || [];\n        this.orgItems = items;\n        this.legacyCheck(true);\n\t\tif (!items.length) {\n\t\t\tthis.displayNoData(true);\n\t\t\treturn;\n\t\t}\n\t\tthis.displayNoData(false);\n\t\tthis.items = [...items];\n\t\tthis.mixPlugins();\n\t\tclearTimeout(this.noDataTimer);\n\t\tthis.onDomReady(() => {\n\t\t\tthis.render();\n\t\t});\n\t}\n\n    legacyCheck(disable) {\n        if (!disable) {\n            this.legacyTimer = setTimeout(() => {\n                throw new Error('a `rows` and a `schema` is required');\n            }, 1000);\n            return;\n        }\n        clearTimeout(this.legacyTimer);\n    }\n\n\tdomReady () {\n        this.perf = this.perf || PERF;\n        if (!this.items) {\n            this.noDataTimer = setTimeout(() => {\n                this.displayNoData(true);\n            }, 1000);\n        }\n\t}\n\n\trender () {\n\t\tthis.fire('pre-render');\n\t\tthis.renderTemplate();\n\t\tconst columns = this.schema.columns;\n\t\tif (!util.isEqual(columns, this.columns)) {\n\t\t\tthis.columns = columns;\n\t\t\tthis.renderHeader(this.columns);\n        }\n\t\tthis.renderBody(this.items, this.columns);\n\n\t\tthis.fire('render', { table: this.table || this, thead: this.thead, tbody: this.tbody });\n\t}\n\n\t// is overwritten by scrollable\n\trenderTemplate () {\n\t\tif (this.table) {\n\t\t\treturn;\n\t\t}\n\t\tthis.table = dom('table', { tabindex: '1' }, this);\n\t\tthis.thead = dom('thead', {}, this.table);\n\t\tthis.tbody = dom('tbody', {}, this.table);\n\t}\n\n\trenderHeader (columns) {\n\t\tdom.clean(this.thead, true);\n\t\tconst tr = dom('tr', {}, this.thead);\n\t\tconst colSizes = [];\n\t\tcolumns.forEach((col, i) => {\n\t\t\tconst key = col.key || col;\n\t\t\tconst label = col.label === undefined ? col : col.label;\n\t\t\tconst css = col.css || col.className || '';\n\t\t\tconst options = {\n\t\t\t\thtml: '<span>' + label + '</span>',\n\t\t\t\tcss: css,\n\t\t\t\t'data-field': key\n\t\t\t};\n\t\t\tif (col.width){\n\t\t\t\tcolSizes[i] = col.width;\n\t\t\t\toptions.style = { width: col.width };\n\t\t\t}\n\t\t\tdom('th', options, tr);\n\t\t});\n\t\tthis.colSizes = colSizes;\n\t\tthis.headHasRendered = true;\n\t\tthis.fire('render-header', { thead: this.thead });\n\t}\n\n\trenderBody (items, columns) {\n\t\tconst exclude = this.exclude;\n\t\tconst tbody = this.tbody;\n\t\tdom.clean(tbody, true);\n\n\t\tif(!items || !items.length){\n\t\t\tthis.bodyHasRendered = true;\n\t\t\tthis.fire('render-body', { tbody: this.tbody });\n\t\t\tthis.displayNoData(true);\n\t\t\treturn;\n\t\t}\n\n\t\tconst editable = this.editable;\n\t\tconst selectable = this.selectable;\n\n\t\tif (items[0].id === undefined){\n\t\t\tconsole.warn('Items do not have an ID');\n\t\t}\n\n\t\t// TODO: if sort, just reorder - do perf test\n\t\t//console.time('render body');\n\t\trender(items, columns, this.colSizes, tbody, selectable, () => {\n\t\t\t// PERF: makes no difference:\n\t\t\t//this.table.appendChild(this.tbody);\n\t\t\t//console.timeEnd('render body');\n\t\t\tthis.bodyHasRendered = true;\n\t\t\tthis.fire('render-body', { tbody: this.tbody });\n\t\t});\n\n\t}\n\n\tgetItemById (id) {\n\t\treturn this.items.find(item => ''+item.id === ''+id);\n\t}\n\n\tdisplayNoData (show) {\n\t\tif (show) {\n\t\t\tthis.classList.add('no-data');\n\t\t} else {\n\t\t\tthis.classList.remove('no-data');\n\t\t}\n\t}\n\n\tmixPlugins () {\n        if (this.clickable) {\n\t\t\tclickable.call(this);\n\t\t}\n        if (this.sortable) {\n\t\t\tclickable.call(this);\n\t\t\tsortable.call(this);\n\t\t}\n\t\tif (this.selectable) {\n\t\t\tclickable.call(this);\n\t\t\tselectable.call(this);\n\t\t}\n\t\tif (this.scrollable) {\n\t\t\tscrollable.call(this);\n\t\t}\n\t\tthis.mixPlugins = noop;\n\t}\n}\n\nfunction render (items, columns, colSizes, tbody, selectable, callback) {\n\titems.forEach((item, index) => {\n\t\titem.index = index;\n\t\tconst itemCss = item.css || item.class || item.className;\n\t\tlet\n\t\t\thtml, css, key,\n\t\t\trowOptions = { 'data-row-id': item.id },\n\t\t\ttr;\n\n\t\tif (selectable) {\n\t\t\trowOptions.tabindex = 1;\n\t\t}\n\t\tif (itemCss) {\n\t\t\trowOptions.class = itemCss;\n\t\t}\n\n        tr = dom('tr', rowOptions, tbody);\n\t\tcolumns.forEach((col, i) => {\n            key = col.key || col;\n            if (col.component) {\n                html = createComponent(col, item);\n            } else {\n                html = key === 'index' ? index + 1 : item[key];\n                if (col.callback) {\n                    html = col.callback(item, index);\n                }\n            }\n\t\t\tcss = key;\n\t\t\tconst cellOptions = { html, 'data-field': key, css };\n\t\t\tif (colSizes[i]) {\n\t\t\t\tcellOptions.style = { width: colSizes[i] };\n\t\t\t}\n\t\t\t// if (editable) {\n\t\t\t// \tcellOptions.tabindex = 1;\n\t\t\t// }\n\t\t\tdom('td', cellOptions, tr);\n\t\t});\n\t});\n\tcallback();\n}\n\n// experimental\nfunction lazyRender (allItems, columns, tbody, sorts, callback) {\n\tlet index = 0;\n\tfunction renderRows (items) {\n\t\titems.forEach((item) => {\n\t\t\titem.index = index;\n\t\t\tconst itemCss = item.css || item.class || item.className;\n\t\t\tlet\n\t\t\t\thtml, css, key,\n\t\t\t\trowOptions = { 'data-row-id': item.id },\n\t\t\t\ttr;\n\t\t\tif (selectable) {\n\t\t\t\trowOptions.tabindex = 1;\n\t\t\t}\n\t\t\tif (itemCss) {\n\t\t\t\trowOptions.class = itemCss;\n\t\t\t}\n\n\t\t\ttr = dom('tr', rowOptions, tbody);\n\t\t\tcolumns.forEach((col) => {\n\t\t\t\tkey = col.key || col;\n\t\t\t\thtml = item[key];\n\t\t\t\tcss = key;\n\t\t\t\tconst cellOptions = { html, 'data-field': key, css };\n\t\t\t\t// if (editable) {\n\t\t\t\t// \tcellOptions.tabindex = 1;\n\t\t\t\t// }\n\t\t\t\tdom('td', cellOptions, tr);\n\t\t\t});\n\t\t\tindex++;\n\t\t});\n\t}\n\n\tallItems = [...allItems];\n\n\tfunction next () {\n\t\tconst items = allItems.splice(0, 5);\n\t\trenderRows(items);\n\n\t\tif(allItems.length){\n\t\t\tsetTimeout(() => {\n\t\t\t\tnext();\n\t\t\t},1);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\tnext();\n}\n\nfunction noop () {\n\n}\n\nmodule.exports = BaseComponent.define('data-table', DataTable, {\n\tprops: ['schema', 'rows', 'sort', 'selected', 'stretch-column', 'max-height', 'borders'],\n\tbools: ['sortable', 'selectable', 'scrollable', 'clickable', 'perf']\n});\n","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","const util = require('./util');\nconst dom = require('@clubajax/dom');\n\nconst Sortable = {\n    init() {\n        this.classList.add('sortable');\n        this.current = {};\n        this.on('render-header', this.onHeaderRender.bind(this));\n        this.setSort();\n    },\n\n    onSort() {\n        let [sort, dir] = this.sort.split(',').map((w) => w.trim());\n        dir = !!sort ? dir || 'desc' : dir;\n        this.setSort(sort, dir);\n    },\n\n    setSort(sort, dir) {\n        if (!sort) {\n            sort = this.schema.sort;\n            dir = this.schema.desc ? 'desc' : 'asc';\n            this.current.dir = sort;\n        }\n\n        this.current = {\n            sort,\n            dir,\n        };\n\n        const lt = dir === 'asc' ? -1 : 1;\n        const gt = dir === 'desc' ? -1 : 1;\n\n        this.items.sort((a, b) => {\n            if (a[sort] < b[sort]) {\n                return lt;\n            } else if (a[sort] > b[sort]) {\n                return gt;\n            }\n            return 0;\n        });\n\n        if (this.bodyHasRendered) {\n            this.renderBody(this.items, this.columns);\n        }\n        if (this.headHasRendered) {\n            this.displaySort();\n        }\n    },\n\n    onHeaderRender: function() {\n        if (this.clickHandle) {\n            this.clickHandle.remove();\n        }\n        this.clickHandle = this.on('header-click', this.onHeaderClick.bind(this));\n        this.displaySort();\n    },\n\n    displaySort() {\n        if (this.currentSortField) {\n            this.currentSortField.classList.remove(this.currentSortClass);\n        }\n        if (this.current.dir) {\n            this.currentSortField = dom.query(this.thead, `[data-field=\"${this.current.sort}\"]`);\n            this.currentSortClass = this.current.dir === 'asc' ? 'asc' : 'desc';\n            this.currentSortField.classList.add(this.currentSortClass);\n        }\n\n        const event = this.current.sort ? `${this.current.sort},${this.current.dir}` : null;\n        this.fire('sort', { value: event });\n    },\n\n    onHeaderClick(e) {\n        let dir,\n            field = e.detail.field,\n            target = e.detail.cell;\n\n        if (!target || target.className.indexOf('no-sort') > -1) {\n            console.log('NOTARGET');\n            return;\n        }\n        if (field === this.current.sort) {\n            dir = this.current.dir === 'asc' ? 'desc' : 'asc';\n        } else {\n            dir = 'desc';\n        }\n        this.setSort(field, dir);\n    },\n};\n\nmodule.exports = function() {\n    if (!this.hasSortable) {\n        util.bindMethods(Sortable, this);\n        this.hasSortable = true;\n    }\n};\n","const util = require('./util');\nconst dom = require('@clubajax/dom');\nconst on = require('@clubajax/on');\n\nconst Clickable = {\n\n\tinit (grid) {\n\t\tthis.on('render', this.handleClicks.bind(this));\n\t},\n\n\thandleBodyClick (e) {\n\t\tlet\n\t\t\tindex,\n\t\t\titem,\n\t\t\temitEvent,\n\t\t\tfield,\n\t\t\trow,\n\t\t\trowId,\n\t\t\tcell = e.target.closest('td');\n\n\t\tif (cell) {\n\t\t\tfield = cell.getAttribute('data-field');\n\t\t}\n\t\trow = e.target.closest('tr');\n\n\t\tif (!row) {\n\t\t\treturn;\n\t\t}\n\n\t\tindex = +row.getAttribute('data-index');\n\t\trowId = dom.attr(row, 'data-row-id');\n\n\t\tif (!rowId) {\n\t\t\treturn;\n\t\t}\n\n\t\titem = this.getItemById(rowId);\n\n\t\temitEvent = {\n\t\t\tindex: index,\n\t\t\tcell: cell,\n\t\t\trow: row,\n\t\t\titem: item,\n\t\t\tfield: field,\n\t\t\tvalue: item[field],\n\t\t\ttarget: e.target\n\t\t};\n\n\t\tthis.fire('row-click', emitEvent);\n\t},\n\n\thandleHeaderClick (event) {\n\t\tlet\n\t\t\tcell = event.target.closest('th'),\n\t\t\tfield = cell && cell.getAttribute('data-field'),\n\t\t\temitEvent = {\n\t\t\t\tfield: field,\n\t\t\t\tcell: cell,\n\t\t\t\ttarget: event.target\n\t\t\t};\n\t\tif (cell) {\n\t\t\tthis.fire('header-click', emitEvent);\n\t\t}\n\t},\n\n\thandleClicks (event) {\n\t\tif (this.handle) {\n\t\t\tthis.handle.remove();\n\t\t}\n\n\t\tthis.handle = on.makeMultiHandle([\n\t\t\tthis.on(event.detail.tbody, 'keyup', (e) => {\n\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\tthis.handleBodyClick(e);\n\t\t\t\t}\n\t\t\t}),\n\t\t\tthis.on(event.detail.tbody, 'click', this.handleBodyClick.bind(this)),\n\t\t\tthis.on(event.detail.thead, 'click', this.handleHeaderClick.bind(this))\n\t\t]);\n\t}\n};\n\nmodule.exports = function () {\n\tif (!this.hasClickable) {\n\t\tutil.bindMethods(Clickable, this);\n\t\tthis.hasClickable = true;\n\t}\n};","const dom = require('@clubajax/dom');\nconst util = require('./util');\nconst SEL_CLASS = 'selected';\n\nconst Selectable = {\n\tinit () {\n\t\tthis.classList.add('selectable');\n\t\tthis.on('row-click', this.onRowClick.bind(this));\n\t\tthis.on('render-body', this.displaySelection.bind(this));\n\t},\n\n\tonSelected (value) {\n\t\tif (value !== this.currentSelection) {\n\t\t\tthis.selectRow(value);\n\t\t}\n\t},\n\n\tonRowClick (e) {\n\t\tthis.selectRow(e.detail.item.id);\n\t},\n\n\tselectRow (id) {\n\t\tlet currentId;\n\t\tif (this.currentRow) {\n\t\t\tthis.currentRow.classList.remove(SEL_CLASS);\n\t\t\tcurrentId = dom.attr(this.currentRow, 'data-row-id');\n\t\t}\n\n\t\tthis.currentSelection = id === this.currentSelection ? null : id;\n\n\t\tlet item = this.getItemById(this.currentSelection);\n\n\t\tconst itemCss = item ? item.css || item.class || item.className : null;\n\t\tif (itemCss === 'unselectable'){\n\t\t\tthis.currentSelection = null;\n\t\t\titem = null;\n\t\t\tid = null;\n\t\t}\n\n\t\tthis.displaySelection();\n\n\t\tif (this.currentSelection) {\n\t\t\tconst event = {\n\t\t\t\trow: this.currentRow,\n\t\t\t\titem: item,\n\t\t\t\tvalue: id\n\t\t\t};\n\t\t\tthis.emit('change', event);\n\t\t} else {\n\t\t\tthis.emit('change');\n\t\t}\n\t},\n\n\tdisplaySelection () {\n\t\tif (this.currentSelection) {\n\t\t\tconst row = dom.query(this, `[data-row-id=\"${this.currentSelection}\"]`);\n\t\t\tif (row) {\n\t\t\t\trow.classList.add(SEL_CLASS);\n\t\t\t\tthis.currentRow = row;\n\t\t\t}\n\t\t}\n\t}\n};\n\n\nmodule.exports = function () {\n\tif (!this.hasSelectable) {\n\t\tutil.bindMethods(Selectable, this);\n\t\tthis.hasSelectable = true;\n\t}\n};","const dom = require('@clubajax/dom');\nconst util = require('./util');\n\nconst Scrollable = {\n\tinit () {\n\t\tthis.classList.add('scrollable');\n\t\tthis.on('render-body', this.onRender.bind(this));\n\t\tthis.on('resize', this.onRender.bind(this));\n\t\tthis.on('pre-render', this.onPreRender.bind(this));\n\t},\n\n\trenderTemplate () {\n\t\tif(this.tableHeadWrapper){ return; }\n\t\tthis.tableHeadWrapper = dom('div', {className: 'table-header-wrapper'}, this);\n\t\tthis.tableHeader = dom('table', {className: 'table-header', tabindex:'1'}, this.tableHeadWrapper);\n\t\tthis.thead = dom('thead', {}, this.tableHeader);\n\t\tthis.tableBodyWrapper = dom('div',\n\t\t\t{\n\t\t\t\tclassName: 'table-body-wrapper',\n\t\t\t\tstyle: {\n\t\t\t\t\t'max-height': this['max-height'],\n\t\t\t\t\t'position': this['max-height'] ? 'static' : 'absolute'\n\t\t\t\t}\n\t\t\t}, this);\n\t\tthis.tableBody = dom('table', {className: 'table-body', tabindex:'1'}, this.tableBodyWrapper);\n\t\tthis.tbody = dom('tbody', {}, this.tableBody);\n\t},\n\n\tonPreRender () {\n\t\tif(this.table){\n\t\t\tthis.scrollPos = this.table.scrollLeft;\n\t\t}\n\t},\n\n\tonRender (event) {\n\t\tthis.sizeColumns();\n\n\t\tif(this.scrollPos){\n\t\t\tconst sp = this.scrollPos;\n\t\t\twindow.requestAnimationFrame(() => {\n\t\t\t\tthis.scrollLeft = sp;\n\t\t\t});\n\t\t\tthis.scrollPos = 0;\n\t\t}\n\t},\n\n\thandleScroll (event) {\n\t\tconst\n\t\t\thead = this.tableHeadWrapper,\n\t\t\tbody = this.tableBodyWrapper;\n\t\tlet amt;\n\n\t\thead.scrollLeft = body.scrollLeft;\n\t\tif(head.scrollLeft !== body.scrollLeft) {\n\t\t\tamt = Math.ceil(head.scrollLeft - body.scrollLeft);\n\t\t\thead.style.left = amt + 1 + 'px';\n\t\t\tthis.hasShift = true;\n\t\t}\n\t\telse if(this.hasShift){\n\t\t\thead.style.left = '';\n\t\t\tthis.hasShift = false;\n\t\t}\n\t},\n\n\tconnectScroll (detail) {\n\t\twindow.requestAnimationFrame(function() {\n\t\t\tif (this.scrollHandle) {\n\t\t\t\tthis.scrollHandle.remove();\n\t\t\t}\n\t\t\tthis.scrollHandle = this.on(this.tableBodyWrapper, 'scroll', this.handleScroll.bind(this));\n\t\t}.bind(this));\n\t},\n\n\tsizeColumns () {\n\t\tconst head = this.thead.parentNode;\n\t\tconst body = this.tbody.parentNode;\n\t\tconst colSizes = this.colSizes;\n\t\tlet\n\t\t\tgrid = this,\n\t\t\ttempNode = dom('div', {style:{position:'absolute', width: '100px', height: '100px', zIndex:-1}}, document.body),\n\t\t\tgridParent = grid.parentNode,\n\t\t\ti, minWidth, thw, tdw,\n\t\t\tths = head.querySelectorAll('th'),\n\t\t\tcolPercent = (100 / ths.length) + '%',\n\t\t\tfirstTR = body.querySelector('tr'),\n\t\t\ttds,\n\t\t\tstretchy = getStretchyColumn(this);\n\n\t\tif(!firstTR){\n\t\t\treturn;\n\t\t}\n\n\t\t// remove grid from its current location\n\t\t// mainly because if it is in a dialog, the animation\n\t\t// CSS will mess up dimensions\n\t\ttempNode.appendChild(grid);\n\n\t\ttds = firstTR.querySelectorAll('td');\n\n\t\t// reset\n\t\t//\n\t\t// set containers to absolute and an arbitrary, small width\n\t\t// to force cells to squeeze together so we can measure their\n\t\t// natural widths\n\n\t\tdom.style(head, {\n\t\t\tposition:'absolute',\n\t\t\twidth:100\n\t\t});\n\t\tdom.style(body, {\n\t\t\tposition:'absolute',\n\t\t\twidth:100\n\t\t});\n\n\t\t// reset head THs\n\t\tfor(i = 0; i < ths.length; i++){\n\t\t\tdom.style(ths[i], {width:'', minWidth:''});\n\t\t\t// TDs shouldn't have a width yet,\n\t\t\t// unless this is a resize\n\t\t\tdom.style(tds[i], {width:'', minWidth:''});\n\t\t}\n\n\t\t// wait for DOM to render before getting sizes\n\t\twindow.requestAnimationFrame(() => {\n\t\t\t// after the next\n\t\t\tfor(i = 0; i < ths.length; i++){\n\t\t\t\tthw = dom.box(ths[i]).width;\n\t\t\t\ttdw = dom.box(tds[i]).width;\n\t\t\t\tif (colSizes[i]) {\n\n\t\t\t\t\tdom.style(ths[i], { minWidth: colSizes[i], maxWidth: colSizes[i] });\n\t\t\t\t\tdom.style(tds[i], { minWidth: colSizes[i], maxWidth: colSizes[i] });\n\n\t\t\t\t} else if(!/fixed\\-width/.test(tds[i].className)) {\n\t\t\t\t\tminWidth = Math.max(thw, tdw);\n\t\t\t\t\tdom.style(ths[i], {minWidth: minWidth});\n\t\t\t\t\tdom.style(tds[i], {minWidth: minWidth});\n\t\t\t\t}\n\n\t\t\t\tif (stretchy === 'all') {\n\t\t\t\t\tdom.style(tds[i], {width: colPercent});\n\t\t\t\t\tdom.style(ths[i], {width: colPercent});\n\t\t\t\t} else if (stretchy === i) {\n\t\t\t\t\tdom.style(tds[i], {width: '100%'});\n\t\t\t\t\tdom.style(ths[i], {width: '100%'});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst headeHeight = dom.box(this.tableHeader).height;\n\t\t\tgrid.tableBodyWrapper.style.top = (headeHeight - 1) + 'px';\n\n\t\t\t// remove temp body styles\n\t\t\tdom.style(head, {\n\t\t\t\tposition:'',\n\t\t\t\twidth:''\n\t\t\t});\n\t\t\tdom.style(body, {\n\t\t\t\tposition:'',\n\t\t\t\twidth:''\n\t\t\t});\n\n\t\t\tgridParent.appendChild(grid);\n\t\t\tdom.destroy(tempNode);\n\n\t\t\tthis.connectScroll();\n\t\t});\n\n\t}\n};\n\nfunction getStretchyColumn (self) {\n\tconst sCol = self['stretch-column'];\n\tconst cols = self.columns;\n\tif (sCol === 'all') {\n\t\treturn 'all';\n\t}\n\tif (sCol === 'none') {\n\t\treturn -1;\n\t}\n\tif (!sCol || sCol === 'last') {\n\t\treturn cols.length - 1;\n\t}\n\treturn cols.findIndex(col => col.key === sCol);\n}\n\nmodule.exports = function () {\n\tif (!this.hasScrollable) {\n\t\tutil.bindMethods(Scrollable, this);\n\t\tthis.hasScrollable = true;\n\t}\n};","require('@clubajax/form');\nconst dom = require('@clubajax/dom');\nconst on = require('@clubajax/on');\n\nfunction createLink(col, item) {\n    return dom('a', {\n        href: item[col.component.url],\n        html: item[col.key]\n    });\n}\n\nfunction createInput(col, item) {\n    function edit(node) {\n        const parent = node.parentNode;\n        parent.removeChild(node);\n\n        const input = dom('ui-input', {\n            value: node.textContent\n        }, parent);\n        input.onDomReady(() => {\n            input.input.focus();\n        });\n        \n        input.on('change', (e) => {\n            e.stopPropagation();\n            console.log('change!', e.value);\n            console.log('item', item);\n            node.textContent = e.value;\n            parent.appendChild(node);\n            input.destroy();\n            item[col.key] = e.value;\n            on.emit(node, 'change', {value: item});\n        });\n    }\n    return dom('div', {\n        class: 'td-editable',\n        html: item[col.key],\n        tabindex: '0',\n        onClick() {\n            edit(this);\n        },\n        onKeyup(e) {\n            if (e.key === 'Enter') {\n                edit(this);\n            }\n        }\n    });\n}\n\nfunction createDropdown(col, item) {\n    const input = dom('ui-dropdown', {\n        data: col.component.options,\n        value: item[col.key]\n    });\n    input.on('change', (e) => {\n        e.stopPropagation();\n        if (!e || e.value == undefined) {\n            return;\n        }\n        item[col.key] = e.value;\n        on.emit(input.parentNode, 'change', {value: item});\n    });\n    return input;\n}\n\nfunction createCheckbox(col, item) {\n    const input = dom('ui-checkbox', {\n        value: item[col.key]\n    });\n    input.on('change', (e) => {\n        e.stopPropagation();\n        if (!e || e.value == undefined) {\n            return;\n        }\n        item[col.key] = e.value;\n        on.emit(input.parentNode, 'change', {value: item});\n    });\n    return input;\n}\n\nfunction createComponent(col, item) {\n    switch (col.component.type) {\n        case 'link':\n            return createLink(col, item);\n        case 'ui-input':\n            return createInput(col, item);\n        case 'ui-dropdown':\n            return createDropdown(col, item);\n        case 'ui-checkbox':\n            return createCheckbox(col, item);\n        default:\n            return item[col.key];\n    }\n}\n\nmodule.exports = createComponent;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;"],"sourceRoot":""}